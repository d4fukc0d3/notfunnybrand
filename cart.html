<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-V8L6CFVR1Q"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-V8L6CFVR1Q');
  </script>
  
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Cart - NOTFUNNYSHIRTS</title>
  <link rel="icon" href="images/logo_tab.png" type="image/png">
  
  <style>
    @font-face {
      font-family: "MyFont";
      src: url("fonts/Kristina.Bold.otf");
    }
    @font-face {
      font-family: "MyFont2";
      src: url("fonts/pixter-architekt-bold.ttf");
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: "MyFont2", Arial, sans-serif;
      background-color: #f7f7f7;
      color: #000;
      overflow-x: hidden;
      -webkit-user-select: none;
      user-select: none;
      min-height: 100vh;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 20px;
    }

    /* Header */
    h1 {
      text-align: center;
      font-size: 5em;
      margin: 30px 0;
      letter-spacing: normal;
      cursor: pointer;
      font-weight: normal;
      font-family: "MyFont", sans-serif;
      color: #000000;
      text-decoration: none;
    }

    h1 a {
      color: inherit;
      text-decoration: none;
    }

    /* Notification Styles */
    .notification-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 10000;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease, visibility 0.3s ease;
    }

    .notification-overlay.show {
      opacity: 1;
      visibility: visible;
    }

    .notification-box {
      background: white;
      padding: 40px;
      border-radius: 20px;
      max-width: 500px;
      width: 90%;
      text-align: center;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
      transform: scale(0.9);
      transition: transform 0.3s ease;
    }

    .notification-overlay.show .notification-box {
      transform: scale(1);
    }

    .notification-icon {
      font-size: 4em;
      margin-bottom: 20px;
    }

    .notification-title {
      font-family: "MyFont2", sans-serif;
      font-size: 1.8em;
      margin-bottom: 15px;
      color: #000;
      font-weight: bold;
    }

    .notification-message {
      font-family: "MyFont2", sans-serif;
      font-size: 1.1em;
      margin-bottom: 25px;
      color: #333;
      line-height: 1.6;
    }

    .notification-steps {
      text-align: left;
      margin: 20px 0;
      padding: 20px;
      background: #f7f7f7;
      border-radius: 10px;
    }

    .notification-step {
      margin-bottom: 10px;
      font-family: "MyFont2", sans-serif;
      font-size: 1em;
      color: #333;
    }

    .notification-step strong {
      color: #000;
    }

    .notification-button {
      background-color: #000;
      color: white;
      border: none;
      padding: 15px 40px;
      border-radius: 8px;
      font-family: "MyFont2", sans-serif;
      font-size: 1.2em;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .notification-button:hover {
      background-color: #333;
      transform: scale(1.05);
    }

    /* Main Grid Layout */
    .cart-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 40px;
      margin: 40px 0;
    }

    /* Cart Items Section */
    .cart-items-section {
      background: #ffffff;
      border-radius: 15px;
      padding: 30px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    }

    .section-title {
      font-family: "MyFont2", sans-serif;
      font-size: 2em;
      margin-bottom: 25px;
      color: #000;
      text-align: center;
    }

    .cart-item {
      display: grid;
      grid-template-columns: 120px 1fr auto;
      gap: 20px;
      padding: 20px;
      margin-bottom: 20px;
      background: #f7f7f7;
      border-radius: 10px;
      transition: all 0.3s ease;
      align-items: center;
    }

    .cart-item:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
    }

    .cart-item-image {
      width: 120px;
      height: 120px;
      object-fit: cover;
      border-radius: 8px;
      cursor: pointer;
      transition: transform 0.3s ease;
    }

    .cart-item-image:hover {
      transform: scale(1.05);
    }

    .cart-item-details {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .cart-item-title {
      font-family: "MyFont2", sans-serif;
      font-size: 1.3em;
      color: #000;
      font-weight: bold;
    }

    .cart-item-price {
      font-family: "MyFont2", sans-serif;
      font-size: 1.5em;
      background: linear-gradient(
        90deg,
        #ff0000,
        #ff7f00,
        #ffff00,
        #00ff00,
        #0000ff,
        #4b0082,
        #9400d3
      );
      background-size: 200% 100%;
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: rainbow 3s linear infinite;
    }

    @keyframes rainbow {
      0% { background-position: 0% 50%; }
      100% { background-position: 200% 50%; }
    }

    .remove-btn {
      background-color: #ff0000;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      font-family: "MyFont2", sans-serif;
      font-size: 1em;
      transition: all 0.3s ease;
    }

    .remove-btn:hover {
      background-color: #cc0000;
      transform: scale(1.05);
    }

    .empty-cart {
      text-align: center;
      padding: 60px 20px;
      color: #666;
      font-size: 1.2em;
    }

    .continue-shopping {
      display: inline-block;
      margin-top: 20px;
      padding: 12px 30px;
      background-color: #000;
      color: white;
      text-decoration: none;
      border-radius: 5px;
      font-family: "MyFont2", sans-serif;
      transition: all 0.3s ease;
    }

    .continue-shopping:hover {
      background-color: #333;
      transform: scale(1.05);
    }

    /* Checkout Form Section */
    .checkout-section {
      background: #ffffff;
      border-radius: 15px;
      padding: 30px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      position: sticky;
      top: 20px;
      height: fit-content;
    }

    form {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    label {
      font-family: "MyFont2", sans-serif;
      font-size: 0.95em;
      color: #333;
      margin-bottom: 5px;
      display: block;
    }

    input[type="text"],
    input[type="email"],
    input[type="tel"] {
      width: 100%;
      padding: 12px 15px;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      font-family: "MyFont2", sans-serif;
      font-size: 1em;
      transition: all 0.3s ease;
      background: #f7f7f7;
    }

    input[type="text"]:focus,
    input[type="email"]:focus,
    input[type="tel"]:focus {
      outline: none;
      border-color: #000;
      background: #fff;
    }

    input[type="text"][readonly] {
      background: #e0e0e0;
      cursor: not-allowed;
    }

    .checkbox-group {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    input[type="checkbox"] {
      width: 20px;
      height: 20px;
      cursor: pointer;
    }

    .checkbox-group label {
      margin: 0;
      cursor: pointer;
      user-select: none;
    }

    input[type="submit"] {
      width: 100%;
      padding: 15px;
      background-color: #000;
      color: white;
      border: none;
      border-radius: 8px;
      font-family: "MyFont2", sans-serif;
      font-size: 1.2em;
      cursor: pointer;
      transition: all 0.3s ease;
      margin-top: 10px;
    }

    input[type="submit"]:hover {
      background-color: #333;
      transform: scale(1.02);
    }

    input[type="submit"]:active {
      transform: scale(0.98);
    }

    .cart-summary {
      background: #f7f7f7;
      padding: 20px;
      border-radius: 10px;
      margin-top: 30px;
    }

    .summary-row {
      display: flex;
      justify-content: space-between;
      margin-bottom: 15px;
      font-family: "MyFont2", sans-serif;
      font-size: 1.1em;
    }

    .summary-row.total {
      font-size: 1.5em;
      font-weight: bold;
      padding-top: 15px;
      border-top: 2px solid #ddd;
      margin-top: 15px;
    }

    .payment-button {
      width: 100%;
      padding: 15px;
      background-color: #000;
      color: white;
      border: none;
      border-radius: 8px;
      font-family: "MyFont2", sans-serif;
      font-size: 1.3em;
      cursor: pointer;
      transition: all 0.3s ease;
      margin-top: 20px;
      text-align: center;
      text-decoration: none;
      display: block;
    }

    .payment-button:hover {
      background-color: #333;
      transform: scale(1.02);
    }

    .payment-button:active {
      transform: scale(0.98);
    }

    /* Responsive Design */
    @media (max-width: 1024px) {
      .cart-grid {
        grid-template-columns: 1fr;
      }

      .checkout-section {
        position: relative;
        top: 0;
      }
    }

    @media (max-width: 768px) {
      h1 {
        font-size: 4em;
        margin: 20px 0;
      }

      .cart-item {
        grid-template-columns: 100px 1fr auto;
        gap: 15px;
        padding: 15px;
      }

      .cart-item-image {
        width: 100px;
        height: 100px;
      }

      .section-title {
        font-size: 1.5em;
      }

      .cart-items-section,
      .checkout-section {
        padding: 20px;
      }

      .notification-box {
        padding: 30px 20px;
      }

      .notification-title {
        font-size: 1.5em;
      }

      .notification-message {
        font-size: 1em;
      }
    }

    @media (max-width: 480px) {
      h1 {
        font-size: 3em;
        margin: 15px 0;
      }

      .cart-item {
        grid-template-columns: 1fr;
        text-align: center;
        gap: 10px;
      }

      .cart-item-image {
        width: 100%;
        height: 200px;
        margin: 0 auto;
      }

      .remove-btn {
        width: 100%;
      }

      .section-title {
        font-size: 1.3em;
      }

      .cart-items-section,
      .checkout-section {
        padding: 15px;
      }

      .notification-box {
        padding: 25px 15px;
      }

      .notification-icon {
        font-size: 3em;
      }

      .notification-title {
        font-size: 1.3em;
      }

      .notification-message {
        font-size: 0.95em;
      }

      .notification-button {
        padding: 12px 30px;
        font-size: 1em;
      }
    }
  </style>
</head>
<body>
  <!-- Notification Overlay -->
  <div class="notification-overlay" id="notificationOverlay">
    <div class="notification-box">
      <div class="notification-icon">‚ö†Ô∏è</div>
      <h2 class="notification-title">¬°IMPORTANTE!</h2>
      <p class="notification-message">
        Despu√©s de enviar el formulario, debes hacer clic en el bot√≥n de pago y completar el proceso de pago.
      </p>
      <div class="notification-steps">
        <div class="notification-step"><strong>1.</strong> Completa el formulario</div>
        <div class="notification-step"><strong>2.</strong> Haz clic en "COMPLETAR PEDIDO"</div>
        <div class="notification-step"><strong>3.</strong> Haz clic en el bot√≥n de PAGO</div>
        <div class="notification-step"><strong>4.</strong> Completa el proceso de pago</div>
      </div>
      <button class="notification-button" onclick="closeNotification()">Entendido</button>
    </div>
  </div>

  <div class="container">
    <h1><a href="ropa.html">NOTFUNNYSHIRTS</a></h1>

    <div class="cart-grid">
      <!-- Cart Items Section -->
      <div class="cart-items-section">
        <h2 class="section-title">Tu Carrito</h2>
        <div id="cart-items">
          <!-- Cart items will be dynamically loaded here -->
        </div>
        
        <div class="cart-summary" id="cart-summary">
          <!-- Summary will be dynamically loaded here -->
        </div>
        
        <a href="#" class="payment-button" id="payment-button">Realizar pago</a>
      </div>

      <!-- Checkout Form Section -->
      <div class="checkout-section">
        <h2 class="section-title">Checkout</h2>

        <form action="https://submit-form.com/cAqicOus6" id="checkout-form">
          <div>
            <label for="email">Correo electr√≥nico</label>
            <input type="email" id="email" name="email" placeholder="ejemplo@correo.com" required>
          </div>

          <div class="checkbox-group">
            <input type="checkbox" id="emailUpdates" name="emailUpdates" value="Env√≠ame correos con noticias y ofertas">
            <label for="emailUpdates">Env√≠ame correos con noticias y ofertas</label>
          </div>

          <div>
            <label for="delivery">Entrega</label>
            <input type="text" id="delivery" name="delivery" value="EXCLUSIVO PARA M√âXICO" readonly>
          </div>

          <div>
            <label for="firstName">Nombre</label>
            <input type="text" id="firstName" name="firstName" placeholder="Escribe tu nombre" required>
          </div>

          <div>
            <label for="lastName">Apellido</label>
            <input type="text" id="lastName" name="lastName" placeholder="Escribe tu apellido" required>
          </div>

          <div>
            <label for="address">Direcci√≥n</label>
            <input type="text" id="address" name="address" placeholder="Escribe tu direcci√≥n" required>
          </div>

          <div>
            <label for="apartment">Departamento, suite, etc. (opcional)</label>
            <input type="text" id="apartment" name="apartment" placeholder="Opcional">
          </div>

          <div>
            <label for="postalCode">C√≥digo postal</label>
            <input type="text" id="postalCode" name="postalCode" placeholder="Escribe tu c√≥digo postal" required>
          </div>

          <div>
            <label for="city">Estado</label>
            <input type="text" id="city" name="city" placeholder="Escribe tu Estado" required>
          </div>

          <div>
            <label for="phone">Tel√©fono</label>
            <input type="tel" id="phone" name="phone" placeholder="Escribe tu n√∫mero de tel√©fono" required>
          </div>

          <div>
            <label for="instagram">Instagram</label>
            <input type="text" id="instagram" name="insta" placeholder="Escribe tu usuario de Instagram" required>
          </div>

          <input type="hidden" name="localStorageData" id="localStorageData">
          
          <input type="submit" value="COMPLETAR PEDIDO">
        </form>
      </div>
    </div>
  </div>

  <script>
    // Title emoticon animation
    const emoticons = [
      '¬Ø\\_(„ÉÑ)_/¬Ø',
      '‰πÅ(‚úß Õú ñ ‚úß)„Ñè',
      '‰πÅ[·ìÄÀµ ‚ñæÀµ·ìÇ]„Ñè',
      '‰πÅ( . ‡¥∞  ñÃØ ‡¥∞ . )„Ñè',
      '¬Ø_‡ºº·ï§‚óï‚óï‡ºΩ·ï§_/¬Ø',
      '¬Ø_( Õ°¬∞ Õú ñ Õ°¬∞)/¬Ø',
      '¬Ø_( Õ°·µî Õú ñ Õ°·µî )/¬Ø',
      '‰πÅ( ‚óîÃØ‚óî )„Ñè',
      '¬Ø_‡ºº ‚Ä¢ÃÅ Õú ñ ‚Ä¢ÃÄ ‡ºΩ/¬Ø',
      '‰πÅ[·ìÄÀµ‚ñæÀµ·ìÇ]„Ñè',
      '¬Ø_(‚äôÔ∏ø‚äô)/¬Ø',
      '¬Ø_( Õ°·µî Õú ñ Õ°·µî )/¬Ø',
      'üé©¬Ø_( ‚óï‚Äø‚óï )/¬Ø',
      '¬Ø_‡ºº·¥ºŸÑÕú·¥º‡ºΩ/¬Ø',
      '‰πÅ( ‚Ä¢ÃÄ œâ ‚Ä¢ÃÅ )„Ñè',
      '¬Ø_‡ºç ¬ØÀµ Õ†¬∞ ŸÑÕú Õ†¬∞ ‡ºç/¬Ø',
      '‰πÅ( ‚óï‚óï )„Ñè',
      '‰πÅ( . ‡ºé‡∫∂ €ù ‡ºé‡∫∂ )„Ñè',
      '‰πÅ‡ºº‚òØ‚Äø‚òØ‚úø‡ºΩ„Ñè',
      '‰πÅ(‚ô•‚ô• )„Ñè',
      '‰πÅ‡ºç Àµ Õ†¬∞ ÕüŸÑÕú Õ†¬∞ Àµ ‡ºç„Ñè',
      '‰πÅ‡ºº ‚Ä¢ÃÄ_‚Ä¢ÃÅ ‡ºΩ„Ñè',
      '¬Ø_„ã°/¬Ø',
      '¬Ø_‚ïè Õü ñ‚ïè/¬Ø',
      '¬Ø_‡ºº ‡≤†_‡≤† ‡ºΩ/¬Ø',
      '¬Ø_‡ºç ¬ØÀµ Õ°‚Ä¢ Õú ñ Õ°‚Ä¢ ‡ºç/¬Ø',
      '‰πÅ( ‚óï ·¥• ‚óï )„Ñè',
      '‰πÅ‡ºº‡≤†‚Äø‡≤†‚úø‡ºΩ„Ñè',
      '¬Ø_‡ºº‚åê‚ñ†ŸÑÕú‚ñ†‡ºΩ/¬Ø',
      '‰πÅ‡ºç Àµ ‚óï ‚Äì ‚óï Àµ ‡ºç„Ñè',
      '‰πÅ( ‚Ä¢‚Ä¢)„Ñè',
      '¬Ø_(„ÉÖ)/¬Ø',
      '‰πÅ( Õ°‚öÜ Õú ñ Õ°‚öÜ)„Ñè',
      '‰πÅ( Õ†·µî ÕüŸÑÕú Õ°·µî)„Ñè',
      '‰πÅ( ‚óî ‡±™ ‚óî )„Ñè',
      '¬Ø_( ‚óâ‚óâ )/¬Ø',
      '¬Ø_( Õ°‚ùõ Õú ñ Õ°‚ùõ)/¬Ø',
      '·ï¶(„ÉÑ)·ï§',
      '¬Ø_( Õ†¬∞ Õü ñ ¬∞Õ† )/¬Ø',
      '¬Ø_‡ºç ¬ØÀµ Õ°¬∞ Õú ñ Õ°¬∞ ‡ºç/¬Ø',
      '‰πÅ‡ºç ¬ØÀµ Õ°¬∞ Õú ñ Õ°¬∞ ‡ºç„Ñè',
      '¬Ø(¬∞o)/¬Ø',
      '¬Ø_‡ºΩ‚úßŸÑÕú‚úß‡ºº/¬Ø',
      '‰πÅ‡ºº‚óï‚óï‡ºΩ„Ñè',
      '‚ïÆ(‚ïØ‚ï∞)‚ï≠',
      '¬Ø_( Õ†¬∞ Õü ñ Õ†¬∞ )/¬Ø',
      '¬Ø_‡ºΩ ‡≤• –î ‡≤• ‡ºº/¬Ø',
      '¬Ø_‡ºº ¬∫ŸÑÕü¬∫ ‡ºΩ/¬Ø',
      '¬Ø_( ‚óîÃØ‚óî )/¬Ø',
      '¬Ø‡ºº ‡≤• ‚Äø ‡≤• ‡ºΩ/¬Ø',
      '‰πÅ( Õ†¬∞ ÕüŸÑÕú Õ°¬∞)„Ñè',
      '¬Ø_‡ºº ¬∫ŸÑÕü¬∫‡ºΩ/¬Ø',
      '‰πÅ( ‚óâ‚óû‡±™‚óü‚óâ)„Ñè',
      '‰πÅ‡ºº‡≤†Áõä‡≤†‡ºΩ„Ñè',
      '¬Ø_‡ºº Õ°‚ùõ Õú ñ Õ°‚ùõ ‡ºΩ/¬Ø',
      '‰πÅ( ‚Ä¢‚Ä¢ )„Ñè',
      '‰πÅ( Õ†‡≤† Õü ñ Õ†‡≤†)„Ñè',
      '‰πÅ( Õ°‚ùõ Õú ñ Õ°‚ùõ)„Ñè',
      '‰πÅ(‚åê‚ñ†‚ñ†)„Ñè',
      '‰πÅ( ‚óâ‚óâ )„Ñè',
      '¬Ø_»å·¥•»å/¬Ø',
      '‰πÅ‡ºç ‚óï ‚óî ‡±™ ‚óî ‚óï ‡ºç„Ñè',
      '‰πÅ[ ‚óï ·¥• ‚óï ]„Ñè',
      '‰πÅ( Àô œâÀô‰πÅ)',
      '‰πÅ(‚äô‚óé)„Ñè',
      '‰πÅ( Õ†¬∞ Õü ñ ¬∞Õ† )„Ñè',
      '¬Ø_‡ºº ‡≤• ‚Äø ‡≤• ‡ºΩ/¬Ø',
      '‰πÅ‡ºº ‚Ä¢ÃÄ€ù‚Ä¢ÃÅ ‡ºΩ„Ñè',
      '¬Ø_‡ºº ‡¨ø Õú ñ ‡¨ø ‡ºΩ_/¬Ø',
      '‰πÅ( Õ°Ô∏è Õú ñ Õ°Ô∏è)„Ñè',
      '‰πÅ‡ºº‚úø‚óï‚ï≠‚ïÆ‚óï‚úø‡ºΩ„Ñè'
    ];

    let currentEmoticonIndex = 0;
    const baseTitle = '';

    function updateTitle() {
      document.title = `${emoticons[currentEmoticonIndex]} ${baseTitle}`;
      currentEmoticonIndex = (currentEmoticonIndex + 1) % emoticons.length;
    }

    // Start the title animation
    setInterval(updateTitle, 1000);
    updateTitle(); // Initial call

    // Notification functions
    function showNotification() {
      const overlay = document.getElementById('notificationOverlay');
      overlay.classList.add('show');
    }

    function closeNotification() {
      const overlay = document.getElementById('notificationOverlay');
      overlay.classList.remove('show');
    }

    // Show notification on page load
    window.addEventListener('load', function() {
      setTimeout(showNotification, 500);
    });

    // Cart management functions
    function getCart() {
      const cart = localStorage.getItem('cart');
      return cart ? JSON.parse(cart) : [];
    }

    function saveCart(cart) {
      localStorage.setItem('cart', JSON.stringify(cart));
    }

    function removeFromCart(productId) {
      const cart = getCart();
      // Find the index of the first instance of this product ID
      const indexToRemove = cart.findIndex(item => item.id === productId);
      
      if (indexToRemove !== -1) {
        // Remove only one instance
        cart.splice(indexToRemove, 1);
        saveCart(cart);
        loadCart();
      }
    }

    function toggleImage(img, product) {
      if (img.dataset.showing === 'front') {
        img.src = product.back;
        img.dataset.showing = 'back';
      } else {
        img.src = product.front;
        img.dataset.showing = 'front';
      }
    }

    function calculateTotal(cart) {
      // Extract numeric value from price string (e.g., "$777" -> 777)
      return cart.reduce((total, item) => {
        const price = parseInt(item.price.replace(/\D/g, ''));
        return total + price;
      }, 0);
    }

    function loadCart() {
      const cart = getCart();
      const cartItemsContainer = document.getElementById('cart-items');
      const cartSummaryContainer = document.getElementById('cart-summary');

      if (cart.length === 0) {
        cartItemsContainer.innerHTML = `
          <div class="empty-cart">
            <p>Tu carrito est√° vac√≠o</p>
            <a href="ropa.html" class="continue-shopping">Continuar Comprando</a>
          </div>
        `;
        cartSummaryContainer.innerHTML = `
          <div class="summary-row total">
            <span>Total:</span>
            <span>$0</span>
          </div>
        `;
        return;
      }

      // Group products by ID and count quantities
      const groupedCart = cart.reduce((acc, item) => {
        const existing = acc.find(p => p.id === item.id);
        if (existing) {
          existing.quantity += 1;
        } else {
          acc.push({ ...item, quantity: 1 });
        }
        return acc;
      }, []);

      // Render cart items with quantities
      cartItemsContainer.innerHTML = groupedCart.map((item, index) => `
        <div class="cart-item">
          <img 
            src="${item.front}" 
            alt="${item.title}" 
            class="cart-item-image"
            data-showing="front"
            onclick="toggleImage(this, ${JSON.stringify(item).replace(/"/g, '&quot;')})"
          >
          <div class="cart-item-details">
            <div class="cart-item-title">${item.title} ${item.quantity > 1 ? `<span style="color: #666;">x${item.quantity}</span>` : ''}</div>
            <div class="cart-item-price">${item.price}</div>
          </div>
          <button class="remove-btn" onclick="removeFromCart(${item.id})">Eliminar</button>
        </div>
      `).join('');

      // Render cart summary
      const total = calculateTotal(cart);
      const totalItems = cart.length;
      const shippingCost = total > 777 ? 0 : 99;
      const finalTotal = total + shippingCost;
      
      let summaryHTML = `
        <div class="summary-row">
          <span>Productos:</span>
          <span>${totalItems}</span>
        </div>
      `;
      
      if (total > 777) {
        summaryHTML += `
          <div class="summary-row" style="color: #00aa00;">
            <span>Env√≠o:</span>
            <span>¬°GRATIS!</span>
          </div>
        `;
      } else {
        summaryHTML += `
          <div class="summary-row">
            <span>Env√≠o:</span>
            <span>$${shippingCost}</span>
          </div>
        `;
      }
      
      summaryHTML += `
        <div class="summary-row total">
          <span>Total:</span>
          <span>$${finalTotal}</span>
        </div>
      `;
      
      cartSummaryContainer.innerHTML = summaryHTML;
    }

    // Form submission handler
    document.getElementById('checkout-form').addEventListener('submit', function(e) {
      const cart = getCart();
      const cartData = JSON.stringify(cart, null, 2);
      document.getElementById('localStorageData').value = cartData;
    });

    // Initialize cart on page load
    loadCart();
  </script>

  <!-- Analytics -->
  <a title="Web Analytics" href="https://clicky.com/101480613"><img alt="Clicky" src="//static.getclicky.com/media/links/badge.gif" border="0" /></a>
  <script async src="//static.getclicky.com/101480613.js"></script>
  <noscript><p><img alt="Clicky" width="1" height="1" src="//in.getclicky.com/101480613ns.gif" /></p></noscript>
</body>
</html>